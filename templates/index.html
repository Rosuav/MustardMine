<!DOCTYPE HTML>
<html>
<head>
<title>Mustard Mine</title>
<link rel="stylesheet" href="/static/main.css">
<script>
const channel = {{ channel | tojson }};
const communities = {{ commnames | tojson }};
let setups = {{ setups | tojson }};
const sched_tz = {{ sched_tz | tojson }};
const schedule = {{ schedule | tojson }};
const checklist = {{ checklist | tojson }};
</script>
</head>
<body>
<ul class=menu><li>{{ twitter | safe }}</li></ul>
<p>Welcome, {{ username }}!</p>
<table border=1 id=setups></table>
<form method=post action="/update">
<table>
<tr><td><label for=category>Category:</label></td><td><input id=category name=category size=50></td></tr>
<tr><td><label for=title>Stream title:</label></td><td><input id=title name=title size=50></td></tr>
<tr><td><label for=comm1>Communities:</label></td><td><input id=comm1 name=comm1 size=50></td></tr>
<tr><td></td><td><input name=comm2 size=50></td></tr>
<tr><td></td><td><input name=comm3 size=50></td></tr>
</table>
<input type=submit value="Update stream info"> <button type=button id=save>Save this setup</button>
</form>
<form method=post action="/tweet">
<p><label>Tweet that you're live: <input name=tweet id=tweet size=50></label><input type=submit value="Tweet!"></p>
</form>
<section id=schedule>
<p>Specify schedule in timezone: <input id=sched_tz size=40> <span id=othertz></span></p>
<p>
The schedule will be subject to the following rules:
</p>
<ul>
<li>The schedule repeats weekly. Everything is based on Sun/Mon/Tue etc.
<li>On each day-of-week, you may have zero or more times. Each time is interpreted within the specified timezone.
<li>This info is not public, so there's no need to have a "vacation mode" etc. Just don't click the button to tell MM to do stuff.
<li>If the time falls within a gap (eg when DST advances clocks), behaviour is undefined, but will probably pick one side or the other.
<li>If the time falls within a fold (eg when DST retards clocks), the first available time will be used.
<li>Basically, don't schedule stuff when DST is changing clocks. You'll probably be annoyed, and not just because of MM.
</ul>
</section>
<section>
<p>Personal checklist <a href="/checklist">[edit]</a></p>
<ul id=checklist></ul>
</section>
<button type=button id=hello>Hello, world</button>
<p><a href="/logout">Logout</a></p>
<ul>
<li><a href="/mustard-backup.json">Backup/export settings</a></li>
</ul>
<script src="/static/mustard.js"></script>
</body>
</html>
